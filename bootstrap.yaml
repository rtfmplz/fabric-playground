version: "2"

networks:
  basic:


##########################################
services:
  cli:
    extends:
      file: docker-compose/cli.yaml
      service: cli
    container_name: cli
    depends_on:
      - orderer1.ordererorg
      - peer1.org1
      - peer2.org1
    networks:
      - basic

##########################################
  orderer1.ordererorg:
    extends:
      file: docker-compose/orderer.yaml
      service: orderer1
    container_name: orderer1
    depends_on:
      - kafka1
    networks:
      - basic

  kafka1:
    extends:
      file: docker-compose/kafka.yaml
      service: kafka1
    container_name: kafka1
    depends_on:
      - zookeeper1
    networks:
      - basic

  zookeeper1:
    extends:
      file: docker-compose/zookeeper.yaml
      service: zookeeper1
    container_name: zookeeper1
    networks:
      - basic

##########################################
  peer1.org1:
    extends:
      file: docker-compose/peer.yaml
      service: peer1
    container_name: peer1
    depends_on:
      - couchdb1
    networks:
      - basic

  peer2.org1:
    extends:
      file: docker-compose/peer.yaml
      service: peer2
    container_name: peer2
    depends_on:
      - couchdb1
    networks:
      - basic

  couchdb1:
    extends:
      file: docker-compose/couchdb.yaml
      service: couchdb1
    container_name: couchdb1
    networks:
      - basic

  couchdb2:
    extends:
      file: docker-compose/couchdb.yaml
      service: couchdb2
    container_name: couchdb2
    networks:
      - basic